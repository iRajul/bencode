#ifndef DECODE_HXX
#define DECODE_HXX

#include<iostream>
#include <memory>

#include "items.hxx"
using namespace std;

namespace nBencode
{
class decode
{
    public:
        decode();
        std::unique_ptr<CItem> decodeFile(string);
        unique_ptr<CItem> decodeFile(istream &);

    private:
        bool decodeString(istream&);
        bool decodeInterger(istream&);
        bool decodeDict(istream&);
        bool decodeList(istream&);

        unique_ptr<CItem> decodeString(istream &inStream) const;
        string::size_type GetStringLength(istream &inStream) const;

};
}
#endif /* DECODE_HXX */
